<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/sdkDoc.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="../style_sdk.css" rel="stylesheet" type="text/css"/>
<!-- InstanceBeginEditable name="doctitle" -->
<title>ListenUp - Request State Changes</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
<meta name="GENERATOR" content="Mozilla/4.79 [en] (Windows NT 5.0; U) [Netscape]">
<meta name="KeyWords" content="Java, audio, input, output, JavaSonics, recording, plugin, API">
<meta name="Description" content="Java API for audio I/O.">

<style type="text/css">
#phrasebox { background-color: #FFFFB0;
padding: 8pt;
border: medium double rgb(60,60,80) }
</style>

<script type="text/javascript" src="external_writer.js"></script>
<script language="JavaScript">
// ********************************************************************************
// Change HTML in a DIV or other element
function LUPJS_SetInnerHTML(id,message)
{
	// Voodoo for browser compatibility.
	d=document;
	re = d.all ? d.all[id] : d.getElementById(id);
	re.innerHTML=message;
}
    
// ********************************************************************************
// This is called from the ListenUp Applet when its internal state changes.
function LUPJS_StateChanged( previousState, newState )
{
	var msg;
	if( newState == previousState )
	{
		msg = "<p>State changed to " + newState + "!</p>\n";
	}
	else
	{
		msg = "<p>State changed from " + previousState + " to " + newState + "!</p>\n";
		// Thank the user if they have finished recording.
		if( (previousState == "recording") && 
			((newState == "stopped") || (newState == "paused)") ) )
		{
			msg += "<p>Thank you for recording a message!</p>\n";
		}
	}
		
	LUPJS_SetInnerHTML( 'phrasebox', msg );
}
</script>
<!-- InstanceEndEditable -->
</head>
<body>
<center>
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr valign="middle">
      <td width="200" bgcolor="#DCE2E7"><center>
          <font color="#FF9933" size="+2"><strong><em><a href="http://www.javasonics.com/" target="_top"> <font face="Verdana, Arial, Helvetica, sans-serif">JavaSonics</font></a></em> </strong></font>
        </center></td>
      <td width="60" bgcolor="#DCE2E7"><center>
          <h1>SDK</h1>
        </center></td>
      <td bgcolor="#DCE2E7"><center>
          <h1><!-- InstanceBeginEditable name="mainHeading" -->ListenUp Example <!-- InstanceEndEditable --></h1>
        </center></td>
    </tr>
  </table>
</center>
<table width="100%" border="0" cellpadding="0" cellspacing="0" >
  <tr>
    <td valign="top" width="100" bgcolor="#D7E5F2"><br>
      <p><a class="sidenavbar" href="http://www.javasonics.com/" target="_top">Web&nbsp;Home</a></p>
      <p><a class="sidenavbar" href="../index.html" target="_top">SDK&nbsp;Home</a></p>
      <p><a class="sidenavbar" href="../docs/index.html" target="_top">Docs</a></p>
      <p><a class="sidenavbar" href="../php_test/index.html" target="_top">Test&nbsp;PHP</a></p>
      <p><a class="sidenavbar" href="../asp_test/index.html" target="_top">Test&nbsp;ASP</a></p>
      <p><a class="sidenavbar" href="../asp_net_test/index.html" target="_top">Test&nbsp;ASP.NET</a></p>
      <p><a class="sidenavbar" href="index.html" target="_top">Examples</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/demos/" target="_top">Demos</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/downloads/" target="_top">Download</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/sales/" target="_top">Purchase</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/support/" target="_top">Support</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/forum/" target="_top">Forum</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/login/" target="_top">Login</a></p>
      <p><a class="sidenavbar" href="http://www.javasonics.com/contacts.php" target="_top">Contact&nbsp;Us</a></p>
      <p><a class="sidenavbar" href="http://www.mobileer.com/" target="_blank">Company</a></p>
      <br>
    </td>
    <td valign="top"><div class="primary"> <!-- InstanceBeginEditable name="primaryContent" -->
        <h2 align="left">How to Request State Changes from the ListenUp Applet</h2>
        <p align="left">You can use JavaScript to respond to events in the ListenUp program. For example, you could print &quot;Thank you&quot; when they finish recording.</p>
        <p align="left">First you need to add this parameter to your APPLET tag:</p>
        <blockquote>
          <pre align="left">
&lt;param name=&quot;requestStateChanges&quot; value=&quot;yes&quot;&gt;</pre>
        </blockquote>
        <p>This will cause ListenUp to call a JavaScript function with the following API:</p>
        <blockquote>
          <pre>function LUPJS_StateChanged( previousState, newState )</pre>
        </blockquote>
        <p>You will need to write that function. Please &quot;View Source&quot; for this page to see how it was done for this example. </p>
        <div id="phrasebox">
          <h3>Please wait for Applet to Initialize</h3>
          <p>____________________state__________________________</p>
        </div>
        <p>For more information on using JavaScript with ListenUp click <a href="../docs/recorder_scripted.html">here</a>.</p>
        <script language="JavaScript">
	// Put the Applet code in a string so we can pass it to JavaScript.
 var appletCode = 
	'<applet CODE="com.softsynth.javasonics.recplay.RecorderUploadApplet"' +
		' CODEBASE="../codebase"' +
		' ARCHIVE="JavaSonicsListenUp.jar"' +
		' NAME="JavaSonicRecorderUploader"' +
		' mayscript="true"' +
		' WIDTH="353" HEIGHT="110">' +
		' <param name="requestStateChanges" value="yes">' +
		' <param name="frameRate" value="11025.0">' +
		' <param name="showWaveform" value="yes">' +
		' <param name="editable" value="yes">' +
		' <param name="compressorEnable" value="yes">' +
		' <param name="uploadURL" value="stub_success.txt">' +
	' </applet>';
	// Ask an external script to write that Applet code back to the web page.
    ExternalDocumentWrite( appletCode );
</script>
        <p>See <a href="index.html">more examples</a>.</p>
        <p></p>
        <!-- InstanceEndEditable --> </div></td>
  </tr>
</table>
<br>
<div align="left"> &copy; 2001-2006 <a href="http://www.mobileer.com/">Mobileer, Inc.</a> &nbsp;&nbsp;This page is from the ListenUp&nbsp;SDK. You can download the SDK from <a href="http://www.javasonics.com/downloads/">here</a>.</div>
</body>
<!-- InstanceEnd --></html>
